<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>使用 transmission 搭建 BT 种子下载站 | 幸运小站</title><meta name=keywords content="bt,torrent,transmission,种子"><meta name=description content="在网上寻找资源的时候时不时可能遇到一些种子链接，必须通过 BitTorrent 等工具才能下载，但由于国内的 ip 地址较少，而且一般使用种子分享的资源体积都比较巨大，直接使用本地下载耗费很多无用的时间。我们如果自己搭建一个能长时间运行的服务器来代替我们下载，不仅不占用自己电脑的空间，还能 24h 不间断下载，节约了大量时间空间成本。"><meta name=author content="awsl"><link rel=canonical href=https://cyh.me/posts/ubuntu-transmission/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://cyh.me/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://cyh.me/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://cyh.me/favicon-32x32.png><link rel=apple-touch-icon href=https://cyh.me/apple-touch-icon.png><link rel=mask-icon href=https://cyh.me/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700&family=Noto+Sans:ital,wght@0,400;0,700;1,400;1,700&family=Source+Code+Pro:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel=stylesheet><meta property="og:title" content="使用 transmission 搭建 BT 种子下载站"><meta property="og:description" content="在网上寻找资源的时候时不时可能遇到一些种子链接，必须通过 BitTorrent 等工具才能下载，但由于国内的 ip 地址较少，而且一般使用种子分享的资源体积都比较巨大，直接使用本地下载耗费很多无用的时间。我们如果自己搭建一个能长时间运行的服务器来代替我们下载，不仅不占用自己电脑的空间，还能 24h 不间断下载，节约了大量时间空间成本。"><meta property="og:type" content="article"><meta property="og:url" content="https://cyh.me/posts/ubuntu-transmission/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-11-24T00:00:00+00:00"><meta property="article:modified_time" content="2019-11-24T00:00:00+00:00"><meta property="og:site_name" content="幸运小站"><meta name=twitter:card content="summary"><meta name=twitter:title content="使用 transmission 搭建 BT 种子下载站"><meta name=twitter:description content="在网上寻找资源的时候时不时可能遇到一些种子链接，必须通过 BitTorrent 等工具才能下载，但由于国内的 ip 地址较少，而且一般使用种子分享的资源体积都比较巨大，直接使用本地下载耗费很多无用的时间。我们如果自己搭建一个能长时间运行的服务器来代替我们下载，不仅不占用自己电脑的空间，还能 24h 不间断下载，节约了大量时间空间成本。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://cyh.me/posts/"},{"@type":"ListItem","position":2,"name":"使用 transmission 搭建 BT 种子下载站","item":"https://cyh.me/posts/ubuntu-transmission/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"使用 transmission 搭建 BT 种子下载站","name":"使用 transmission 搭建 BT 种子下载站","description":"在网上寻找资源的时候时不时可能遇到一些种子链接，必须通过 BitTorrent 等工具才能下载，但由于国内的 ip 地址较少，而且一般使用种子分享的资源体积都比较巨大，直接使用本地下载耗费很多无用的时间。我们如果自己搭建一个能长时间运行的服务器来代替我们下载，不仅不占用自己电脑的空间，还能 24h 不间断下载，节约了大量时间空间成本。\n","keywords":["bt","torrent","transmission","种子"],"articleBody":"在网上寻找资源的时候时不时可能遇到一些种子链接，必须通过 BitTorrent 等工具才能下载，但由于国内的 ip 地址较少，而且一般使用种子分享的资源体积都比较巨大，直接使用本地下载耗费很多无用的时间。我们如果自己搭建一个能长时间运行的服务器来代替我们下载，不仅不占用自己电脑的空间，还能 24h 不间断下载，节约了大量时间空间成本。\n[toc]\n1 BT 种子下载原理 许多资源，尤其是蓝光源盘等大型资源，一般都是通过 BT 种子的方式来下载传输，具体而言大致分为以下几点：\n1.1 种子文件 在这里我们假设等待分享的资源是 A 文件，将这个资源存放在服务器中并做成种子，所谓的种子，一般即指的是 torrent 文件，其中包含了\n全部文件及文件夹的名称。 全部文件分块的索引信息和 Hash 校验码。假设 A 的大小为 1GB，分块大小为 1MB，那么就会分成 1024 块；每一块都有对应的一个 Hash 校验码，以确保从服务器中下载的块与源文件 100% 相同，增强安全性。 Tracker 地址。Tracker 地址是实际上是一个问询服务器，当有服务器向其发出请求时，它会返回当前有哪些服务器上有所需要的文件，这样这个服务器就可以直接转而向那些服务器请求文件了。 其他辅助信息。比如制作种子的软件等。 1.2 下载种子 所谓的 BT 下载，实际上就是下载 torrent 文件，然后解析其中的文件内容和 Tracker 地址等，然后经由 Tracker 地址找到拥有一部分或者全部文件的服务器，再向这些服务器发起请求。这时候文件分块的好处就体现出来了。由于分块很小，我们可以从不同的服务器中下载不同的块，最后只要把他们“拼装”成一个完整的文件就可以了。因此只要能找到拥有资源的服务器，就算他们并没有一个完整的资源，只要他们缺省的块“互补”的话，我们一样能下载的了整个资源。\n1.3 做种 所谓的做种，即是他人通过自己的服务器下载资源。在下载的过程中实际上我们就已经开始给别人做种了，因为这时候我们已经下载下来的块可以供别人下载。而在下载完成后，如果设置了做种时间等，则可能还会继续提供给别人下载一段时间。这个过程实际上是非常重要的，倘若没人做种，这个种子就失效了。一般建议做种率在 1.0 以上，不过前提还是拥有足够的带宽。\n1.4 优势与不足 BT 种子的优势很明显，就是分享方便，而且如果一个资源有很多服务器都有，那么下载的速度就会非常快，因为可以从各个不同的服务器上获取。而由于文件经过严格的校验，其安全性也很高。\n与此同时也有它的不足，最致命的便是找不到有资源的服务器，那么此时网速再好也拯救不了了。这就牵扯出另外一个弱点，时效性。时间过于久远的资源，或者体积过大的资源，由于下载的人较少，做种的人更少，很容易出现下不下来的情况。\n2 搭建 BT 站 说完原理，现在就直奔主题，着手搭建一个 BT 站。这里选择使用 transmission 来搭建，比较方便快捷。\n2.1 安装 transmission 在 Ubuntu 系统下，可以直接通过 apt 安装的 transmission，但安装的可能不是最新版，以下通过 transmission 官方源来安装：\n1 2 3 $ add-apt-repository ppa:transmissionbt/ppa $ apt update $ apt install transmission-daemon 这时 transmission 就已经安装好了，此时先停止 transmission：\n1 $ systemctl stop transmission-daemon.service 再去修改配置文件，配置文件存放在 /var/lib/transmission-daemon/.config/transmission-daemon/settings.json，以下贴出我的配置：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 { \"alt-speed-down\": 50, \"alt-speed-enabled\": false, \"alt-speed-time-begin\": 540, \"alt-speed-time-day\": 127, \"alt-speed-time-enabled\": false, \"alt-speed-time-end\": 1020, \"alt-speed-up\": 50, \"bind-address-ipv4\": \"0.0.0.0\", \"bind-address-ipv6\": \"::\", \"blocklist-enabled\": false, \"blocklist-url\": \"http://www.example.com/blocklist\", \"cache-size-mb\": 4, \"dht-enabled\": false, \"download-dir\": \"/var/lib/transmission-daemon/Downloads\", // 此处为默认下载地址，如需修改见下方说明 \"download-limit\": 100, \"download-limit-enabled\": 0, \"download-queue-enabled\": true, \"download-queue-size\": 5, \"encryption\": 1, \"idle-seeding-limit\": 30, \"idle-seeding-limit-enabled\": false, \"incomplete-dir\": \"/var/lib/transmission-daemon/Downloads\", \"incomplete-dir-enabled\": false, \"lpd-enabled\": false, \"max-peers-global\": 200, \"message-level\": 1, \"peer-congestion-algorithm\": \"\", \"peer-id-ttl-hours\": 6, \"peer-limit-global\": 200, \"peer-limit-per-torrent\": 50, \"peer-port\": 51413, \"peer-port-random-high\": 65535, \"peer-port-random-low\": 49152, \"peer-port-random-on-start\": false, \"peer-socket-tos\": \"default\", \"pex-enabled\": true, \"port-forwarding-enabled\": false, \"preallocation\": 1, \"prefetch-enabled\": true, \"queue-stalled-enabled\": true, \"queue-stalled-minutes\": 30, \"ratio-limit\": 2, \"ratio-limit-enabled\": false, \"rename-partial-files\": true, \"rpc-authentication-required\": true, \"rpc-bind-address\": \"0.0.0.0\", \"rpc-enabled\": true, // 强烈建议开启，不然任何人都可以访问 \"rpc-host-whitelist\": \"\", \"rpc-host-whitelist-enabled\": false, // 关闭白名单才能随意访问 \"rpc-password\": \"password\", // 这里修改成自己的密码，保存后会自动进行加密处理 \"rpc-port\": 9091, // 端口号 \"rpc-url\": \"/transmission/\", \"rpc-username\": \"username\", // 填写用户名 \"rpc-whitelist\": \"127.0.0.1\", \"rpc-whitelist-enabled\": false, // 关闭白名单才能随意访问 \"scrape-paused-torrents-enabled\": true, \"script-torrent-done-enabled\": false, \"script-torrent-done-filename\": \"\", \"seed-queue-enabled\": false, \"seed-queue-size\": 10, \"speed-limit-down\": 100, \"speed-limit-down-enabled\": false, \"speed-limit-up\": 100, \"speed-limit-up-enabled\": false, \"start-added-torrents\": true, \"trash-original-torrent-files\": false, \"umask\": 18, \"upload-limit\": 100, \"upload-limit-enabled\": 0, \"upload-slots-per-torrent\": 14, \"utp-enabled\": true } 重新开启 transmission：\n1 $ systemctl start transmission-daemon.service 然后在浏览器中进入 http://{ip_address}:9091 并输入密码就可以进入 transmission 的主页面了。\n2.2 修改默认下载地址 由于 transmission 并不是以 root 权限运行，而是以用户 debian-transmission 的身份运行的，因此在配置中修改默认下载地址之前，需要提前建立一个文件夹，并将其权限赋予 debian-transmission，以下举例说明，在 root 权限下执行：\n1 2 3 4 $ cd /home # 创建新文件夹，作为下载地址 $ mkdir transmission/ $ chown -R debian-transmission:debian-transmission transmission/ # 修改拥有者 $ chmod -R 755 transmission/ # 修改权限 2.3 使用 Nginx 反向代理 每次输入 http://ip_address:9091 确实比较麻烦，这里通过 Nginx 反向代理实现直接通过 ip 地址或域名即可访问。倘若有域名，还可以进一步使用 HTTPS 来加强安全性。\n安装好 Nginx 后，在文件夹 /etc/nginx/conf.d/ 中添加一个后缀为 .conf 的文件作为配置文件，如 example.conf，配置内容如下：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 server { server_name _; # 这里可以把 _ 替换成自己的域名 listen 80; location / { proxy_read_timeout 300; proxy_pass_header X-Transmission-Session-Id; proxy_set_header X-Forwarded-Host $host; proxy_set_header X-Forwarded-Server $host; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_pass http://127.0.0.1:9091/transmission/web/; # 此处的端口号应与 transmission 配置中的端口号相符 } location /rpc { proxy_pass http://127.0.0.1:9091/transmission/rpc; } location /upload { proxy_pass http://127.0.0.1:9091/transmission/upload; } } 如果使用域名，之后可以参考这篇文章配置 HTTPS。\n","wordCount":"2040","inLanguage":"zh","datePublished":"2019-11-24T00:00:00Z","dateModified":"2019-11-24T00:00:00Z","author":{"@type":"Person","name":"awsl"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://cyh.me/posts/ubuntu-transmission/"},"publisher":{"@type":"Organization","name":"幸运小站","logo":{"@type":"ImageObject","url":"https://cyh.me/favicon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://cyh.me/ accesskey=h title="幸运小站 (Alt + H)"><img src=https://cyh.me/favicon.png alt=logo aria-label=logo height=25>幸运小站</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://cyh.me/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://cyh.me/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://cyh.me/ title=Home><span>Home</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>使用 transmission 搭建 BT 种子下载站</h1><div class=post-meta><span title='2019-11-24 00:00:00 +0000 UTC'>2019-11-24</span>&nbsp;·&nbsp;5 分钟&nbsp;·&nbsp;2040 字&nbsp;·&nbsp;awsl</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#1-bt-%e7%a7%8d%e5%ad%90%e4%b8%8b%e8%bd%bd%e5%8e%9f%e7%90%86 aria-label="1 BT 种子下载原理">1 BT 种子下载原理</a><ul><li><a href=#11-%e7%a7%8d%e5%ad%90%e6%96%87%e4%bb%b6 aria-label="1.1 种子文件">1.1 种子文件</a></li><li><a href=#12-%e4%b8%8b%e8%bd%bd%e7%a7%8d%e5%ad%90 aria-label="1.2 下载种子">1.2 下载种子</a></li><li><a href=#13-%e5%81%9a%e7%a7%8d aria-label="1.3 做种">1.3 做种</a></li><li><a href=#14-%e4%bc%98%e5%8a%bf%e4%b8%8e%e4%b8%8d%e8%b6%b3 aria-label="1.4 优势与不足">1.4 优势与不足</a></li></ul></li><li><a href=#2-%e6%90%ad%e5%bb%ba-bt-%e7%ab%99 aria-label="2 搭建 BT 站">2 搭建 BT 站</a><ul><li><a href=#21-%e5%ae%89%e8%a3%85-transmission aria-label="2.1 安装 transmission">2.1 安装 transmission</a></li><li><a href=#22-%e4%bf%ae%e6%94%b9%e9%bb%98%e8%ae%a4%e4%b8%8b%e8%bd%bd%e5%9c%b0%e5%9d%80 aria-label="2.2 修改默认下载地址">2.2 修改默认下载地址</a></li><li><a href=#23-%e4%bd%bf%e7%94%a8-nginx-%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86 aria-label="2.3 使用 Nginx 反向代理">2.3 使用 Nginx 反向代理</a></li></ul></li></ul></div></details></div><div class=post-content><p>在网上寻找资源的时候时不时可能遇到一些种子链接，必须通过 <a href=https://www.bittorrent.com/>BitTorrent</a> 等工具才能下载，但由于国内的 ip 地址较少，而且一般使用种子分享的资源体积都比较巨大，直接使用本地下载耗费很多无用的时间。我们如果自己搭建一个能长时间运行的服务器来代替我们下载，不仅不占用自己电脑的空间，还能 24h 不间断下载，节约了大量时间空间成本。</p><p>[toc]</p><h2 id=1-bt-种子下载原理>1 BT 种子下载原理<a hidden class=anchor aria-hidden=true href=#1-bt-种子下载原理>#</a></h2><p>许多资源，尤其是蓝光源盘等大型资源，一般都是通过 BT 种子的方式来下载传输，具体而言大致分为以下几点：</p><h3 id=11-种子文件>1.1 种子文件<a hidden class=anchor aria-hidden=true href=#11-种子文件>#</a></h3><p>在这里我们假设等待分享的资源是 A 文件，将这个资源存放在服务器中并做成种子，所谓的种子，一般即指的是 torrent 文件，其中包含了</p><ul><li>全部文件及文件夹的名称。</li><li>全部文件分块的索引信息和 Hash 校验码。假设 A 的大小为 1GB，分块大小为 1MB，那么就会分成 1024 块；每一块都有对应的一个 Hash 校验码，以确保从服务器中下载的块与源文件 100% 相同，增强安全性。</li><li>Tracker 地址。Tracker 地址是实际上是一个问询服务器，当有服务器向其发出请求时，它会返回当前有哪些服务器上有所需要的文件，这样这个服务器就可以直接转而向那些服务器请求文件了。</li><li>其他辅助信息。比如制作种子的软件等。</li></ul><h3 id=12-下载种子>1.2 下载种子<a hidden class=anchor aria-hidden=true href=#12-下载种子>#</a></h3><p>所谓的 BT 下载，实际上就是下载 torrent 文件，然后解析其中的文件内容和 Tracker 地址等，然后经由 Tracker 地址找到拥有一部分或者全部文件的服务器，再向这些服务器发起请求。这时候文件分块的好处就体现出来了。由于分块很小，我们可以从不同的服务器中下载不同的块，最后只要把他们“拼装”成一个完整的文件就可以了。因此只要能找到拥有资源的服务器，就算他们并没有一个完整的资源，只要他们缺省的块“互补”的话，我们一样能下载的了整个资源。</p><h3 id=13-做种>1.3 做种<a hidden class=anchor aria-hidden=true href=#13-做种>#</a></h3><p>所谓的做种，即是他人通过自己的服务器下载资源。在下载的过程中实际上我们就已经开始给别人做种了，因为这时候我们已经下载下来的块可以供别人下载。而在下载完成后，如果设置了做种时间等，则可能还会继续提供给别人下载一段时间。这个过程实际上是非常重要的，倘若没人做种，这个种子就失效了。一般建议做种率在 1.0 以上，不过前提还是拥有足够的带宽。</p><h3 id=14-优势与不足>1.4 优势与不足<a hidden class=anchor aria-hidden=true href=#14-优势与不足>#</a></h3><p>BT 种子的优势很明显，就是分享方便，而且如果一个资源有很多服务器都有，那么下载的速度就会非常快，因为可以从各个不同的服务器上获取。而由于文件经过严格的校验，其安全性也很高。</p><p>与此同时也有它的不足，最致命的便是找不到有资源的服务器，那么此时网速再好也拯救不了了。这就牵扯出另外一个弱点，时效性。时间过于久远的资源，或者体积过大的资源，由于下载的人较少，做种的人更少，很容易出现下不下来的情况。</p><h2 id=2-搭建-bt-站>2 搭建 BT 站<a hidden class=anchor aria-hidden=true href=#2-搭建-bt-站>#</a></h2><p>说完原理，现在就直奔主题，着手搭建一个 BT 站。这里选择使用 transmission 来搭建，比较方便快捷。</p><h3 id=21-安装-transmission>2.1 安装 transmission<a hidden class=anchor aria-hidden=true href=#21-安装-transmission>#</a></h3><p>在 Ubuntu 系统下，可以直接通过 apt 安装的 transmission，但安装的可能不是最新版，以下通过 transmission 官方源来安装：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ add-apt-repository ppa:transmissionbt/ppa
</span></span><span class=line><span class=cl>$ apt update
</span></span><span class=line><span class=cl>$ apt install transmission-daemon
</span></span></code></pre></td></tr></table></div></div><p>这时 transmission 就已经安装好了，此时<strong>先停止 transmission</strong>：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ systemctl stop transmission-daemon.service
</span></span></code></pre></td></tr></table></div></div><p>再去修改配置文件，配置文件存放在 <code>/var/lib/transmission-daemon/.config/transmission-daemon/settings.json</code>，以下贴出我的配置：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;alt-speed-down&#34;</span><span class=p>:</span> <span class=mi>50</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;alt-speed-enabled&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;alt-speed-time-begin&#34;</span><span class=p>:</span> <span class=mi>540</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;alt-speed-time-day&#34;</span><span class=p>:</span> <span class=mi>127</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;alt-speed-time-enabled&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;alt-speed-time-end&#34;</span><span class=p>:</span> <span class=mi>1020</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;alt-speed-up&#34;</span><span class=p>:</span> <span class=mi>50</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;bind-address-ipv4&#34;</span><span class=p>:</span> <span class=s2>&#34;0.0.0.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;bind-address-ipv6&#34;</span><span class=p>:</span> <span class=s2>&#34;::&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;blocklist-enabled&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;blocklist-url&#34;</span><span class=p>:</span> <span class=s2>&#34;http://www.example.com/blocklist&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;cache-size-mb&#34;</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;dht-enabled&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;download-dir&#34;</span><span class=p>:</span> <span class=s2>&#34;/var/lib/transmission-daemon/Downloads&#34;</span><span class=p>,</span>  <span class=c1>// 此处为默认下载地址，如需修改见下方说明
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nt>&#34;download-limit&#34;</span><span class=p>:</span> <span class=mi>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;download-limit-enabled&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;download-queue-enabled&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;download-queue-size&#34;</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;encryption&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;idle-seeding-limit&#34;</span><span class=p>:</span> <span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;idle-seeding-limit-enabled&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;incomplete-dir&#34;</span><span class=p>:</span> <span class=s2>&#34;/var/lib/transmission-daemon/Downloads&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;incomplete-dir-enabled&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;lpd-enabled&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;max-peers-global&#34;</span><span class=p>:</span> <span class=mi>200</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;message-level&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;peer-congestion-algorithm&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;peer-id-ttl-hours&#34;</span><span class=p>:</span> <span class=mi>6</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;peer-limit-global&#34;</span><span class=p>:</span> <span class=mi>200</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;peer-limit-per-torrent&#34;</span><span class=p>:</span> <span class=mi>50</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;peer-port&#34;</span><span class=p>:</span> <span class=mi>51413</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;peer-port-random-high&#34;</span><span class=p>:</span> <span class=mi>65535</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;peer-port-random-low&#34;</span><span class=p>:</span> <span class=mi>49152</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;peer-port-random-on-start&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;peer-socket-tos&#34;</span><span class=p>:</span> <span class=s2>&#34;default&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;pex-enabled&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;port-forwarding-enabled&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;preallocation&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;prefetch-enabled&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;queue-stalled-enabled&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;queue-stalled-minutes&#34;</span><span class=p>:</span> <span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;ratio-limit&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;ratio-limit-enabled&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;rename-partial-files&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;rpc-authentication-required&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;rpc-bind-address&#34;</span><span class=p>:</span> <span class=s2>&#34;0.0.0.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;rpc-enabled&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>  <span class=c1>// 强烈建议开启，不然任何人都可以访问
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nt>&#34;rpc-host-whitelist&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;rpc-host-whitelist-enabled&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>  <span class=c1>// 关闭白名单才能随意访问
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nt>&#34;rpc-password&#34;</span><span class=p>:</span> <span class=s2>&#34;password&#34;</span><span class=p>,</span>  <span class=c1>// 这里修改成自己的密码，保存后会自动进行加密处理
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nt>&#34;rpc-port&#34;</span><span class=p>:</span> <span class=mi>9091</span><span class=p>,</span>  <span class=c1>// 端口号
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nt>&#34;rpc-url&#34;</span><span class=p>:</span> <span class=s2>&#34;/transmission/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;rpc-username&#34;</span><span class=p>:</span> <span class=s2>&#34;username&#34;</span><span class=p>,</span>  <span class=c1>// 填写用户名
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nt>&#34;rpc-whitelist&#34;</span><span class=p>:</span> <span class=s2>&#34;127.0.0.1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;rpc-whitelist-enabled&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>  <span class=c1>// 关闭白名单才能随意访问
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nt>&#34;scrape-paused-torrents-enabled&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;script-torrent-done-enabled&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;script-torrent-done-filename&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;seed-queue-enabled&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;seed-queue-size&#34;</span><span class=p>:</span> <span class=mi>10</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;speed-limit-down&#34;</span><span class=p>:</span> <span class=mi>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;speed-limit-down-enabled&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;speed-limit-up&#34;</span><span class=p>:</span> <span class=mi>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;speed-limit-up-enabled&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;start-added-torrents&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;trash-original-torrent-files&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;umask&#34;</span><span class=p>:</span> <span class=mi>18</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;upload-limit&#34;</span><span class=p>:</span> <span class=mi>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;upload-limit-enabled&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;upload-slots-per-torrent&#34;</span><span class=p>:</span> <span class=mi>14</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;utp-enabled&#34;</span><span class=p>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>重新开启 transmission：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ systemctl start transmission-daemon.service
</span></span></code></pre></td></tr></table></div></div><p>然后在浏览器中进入 <code>http://{ip_address}:9091</code> 并输入密码就可以进入 transmission 的主页面了。</p><h3 id=22-修改默认下载地址>2.2 修改默认下载地址<a hidden class=anchor aria-hidden=true href=#22-修改默认下载地址>#</a></h3><p>由于 transmission 并不是以 root 权限运行，而是以用户 debian-transmission 的身份运行的，因此在配置中修改默认下载地址之前，需要提前建立一个文件夹，并将其权限赋予 debian-transmission，以下举例说明，在 root 权限下执行：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ <span class=nb>cd</span> /home  <span class=c1># 创建新文件夹，作为下载地址</span>
</span></span><span class=line><span class=cl>$ mkdir transmission/
</span></span><span class=line><span class=cl>$ chown -R debian-transmission:debian-transmission transmission/  <span class=c1># 修改拥有者</span>
</span></span><span class=line><span class=cl>$ chmod -R <span class=m>755</span> transmission/  <span class=c1># 修改权限</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=23-使用-nginx-反向代理>2.3 使用 Nginx 反向代理<a hidden class=anchor aria-hidden=true href=#23-使用-nginx-反向代理>#</a></h3><p>每次输入 <code>http://ip_address:9091</code> 确实比较麻烦，这里通过 Nginx 反向代理实现直接通过 ip 地址或域名即可访问。倘若有域名，还可以进一步使用 HTTPS 来加强安全性。</p><p>安装好 Nginx 后，在文件夹 <code>/etc/nginx/conf.d/</code> 中添加一个后缀为 <code>.conf</code> 的文件作为配置文件，如 <code>example.conf</code>，配置内容如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>server_name</span>             <span class=s>_</span><span class=p>;</span>  <span class=c1># 这里可以把 _ 替换成自己的域名
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>listen</span>                  <span class=mi>80</span><span class=p>;</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>    <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_read_timeout</span> <span class=mi>300</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass_header</span>  <span class=s>X-Transmission-Session-Id</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_set_header</span>   <span class=s>X-Forwarded-Host</span> <span class=nv>$host</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_set_header</span>   <span class=s>X-Forwarded-Server</span> <span class=nv>$host</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_set_header</span>   <span class=s>X-Forwarded-For</span> <span class=nv>$proxy_add_x_forwarded_for</span><span class=p>;</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span>         <span class=s>http://127.0.0.1:9091/transmission/web/</span><span class=p>;</span>  <span class=c1># 此处的端口号应与 transmission 配置中的端口号相符
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>    <span class=kn>location</span> <span class=s>/rpc</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span>         <span class=s>http://127.0.0.1:9091/transmission/rpc</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>    <span class=kn>location</span> <span class=s>/upload</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span>         <span class=s>http://127.0.0.1:9091/transmission/upload</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>如果使用域名，之后可以参考<a href=/2019/06/v2ray/#toc-13>这篇文章</a>配置 HTTPS。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://cyh.me/tags/nginx/>Nginx</a></li><li><a href=https://cyh.me/tags/torrent/>Torrent</a></li><li><a href=https://cyh.me/tags/transmission/>Transmission</a></li><li><a href=https://cyh.me/tags/ubuntu/>Ubuntu</a></li><li><a href=https://cyh.me/tags/%E7%A7%8D%E5%AD%90/>种子</a></li></ul><nav class=paginav><a class=prev href=https://cyh.me/posts/font-minification/><span class=title>« 上一页</span><br><span>通过 fontTools 精简字体</span></a>
<a class=next href=https://cyh.me/posts/ubuntu-kms/><span class=title>下一页 »</span><br><span>用 Ubuntu 搭建一个 KMS 服务器</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://cyh.me/>幸运小站</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"/></svg>';function s(){t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32s-14.33 32-32 32S160 113.7 160 96S174.3 64 192 64zM282.9 262.8l-88 112c-4.047 5.156-10.02 8.438-16.53 9.062C177.6 383.1 176.8 384 176 384c-5.703 0-11.25-2.031-15.62-5.781l-56-48c-10.06-8.625-11.22-23.78-2.594-33.84c8.609-10.06 23.77-11.22 33.84-2.594l36.98 31.69l72.52-92.28c8.188-10.44 23.3-12.22 33.7-4.062C289.3 237.3 291.1 252.4 282.9 262.8z"/></svg>',setTimeout(()=>{t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"/></svg>'},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>