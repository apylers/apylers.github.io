<!DOCTYPE html>
<html lang="cn">
  <head>
    
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.67.0 with theme Tranquilpeak 0.4.7-BETA">
<meta name="author" content="Apylers">
<meta name="keywords" content="bt, torrent, transmission, 种子, development, next-gen">
<meta name="description" content="在网上寻找资源的时候时不时可能遇到一些种子链接，必须通过 BitTorrent 等工具才能下载，但由于国内的 ip 地址较少，而且一般使用种子分享的资源体积都比较巨大，直接使用本地下载耗费很多无用的时间。我们如果自己搭建一个能长时间运行的服务器来代替我们下载，不仅不占用自己电脑的空间，还能 24h 不间断下载，节约了大量时间空间成本。">


<meta property="og:description" content="在网上寻找资源的时候时不时可能遇到一些种子链接，必须通过 BitTorrent 等工具才能下载，但由于国内的 ip 地址较少，而且一般使用种子分享的资源体积都比较巨大，直接使用本地下载耗费很多无用的时间。我们如果自己搭建一个能长时间运行的服务器来代替我们下载，不仅不占用自己电脑的空间，还能 24h 不间断下载，节约了大量时间空间成本。">
<meta property="og:type" content="article">
<meta property="og:title" content="使用 transmission 搭建 BT 种子下载站">
<meta name="twitter:title" content="使用 transmission 搭建 BT 种子下载站">
<meta property="og:url" content="https://cyh.me/2019/11/ubuntu-transmission/">
<meta property="twitter:url" content="https://cyh.me/2019/11/ubuntu-transmission/">
<meta property="og:site_name" content="幸运小站">
<meta property="og:description" content="在网上寻找资源的时候时不时可能遇到一些种子链接，必须通过 BitTorrent 等工具才能下载，但由于国内的 ip 地址较少，而且一般使用种子分享的资源体积都比较巨大，直接使用本地下载耗费很多无用的时间。我们如果自己搭建一个能长时间运行的服务器来代替我们下载，不仅不占用自己电脑的空间，还能 24h 不间断下载，节约了大量时间空间成本。">
<meta name="twitter:description" content="在网上寻找资源的时候时不时可能遇到一些种子链接，必须通过 BitTorrent 等工具才能下载，但由于国内的 ip 地址较少，而且一般使用种子分享的资源体积都比较巨大，直接使用本地下载耗费很多无用的时间。我们如果自己搭建一个能长时间运行的服务器来代替我们下载，不仅不占用自己电脑的空间，还能 24h 不间断下载，节约了大量时间空间成本。">
<meta property="og:locale" content="zh-cn">

  
    <meta property="article:published_time" content="2019-11-24T00:00:00">
  
  
    <meta property="article:modified_time" content="2019-11-24T00:00:00">
  
  
  
    
      <meta property="article:section" content="tutorials">
    
  
  
    
      <meta property="article:tag" content="Nginx">
    
      <meta property="article:tag" content="Torrent">
    
      <meta property="article:tag" content="Transmission">
    
      <meta property="article:tag" content="Ubuntu">
    
      <meta property="article:tag" content="种子">
    
  


<meta name="twitter:card" content="summary">








  <meta property="og:image" content="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/cover/transmission.jpg">
  <meta property="twitter:image" content="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/cover/transmission.jpg">




  <meta property="og:image" content="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/icon/favicon.png">
  <meta property="twitter:image" content="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/icon/favicon.png">


    <title>使用 transmission 搭建 BT 种子下载站</title>

    <link rel="icon" href="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/icon/favicon.png">
    

    

    <link rel="canonical" href="https://cyh.me/2019/11/ubuntu-transmission/">

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/FortAwesome/Font-Awesome@5.12.1/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@v3.5.7/dist/jquery.fancybox.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.1/build/styles/atom-one-dark.min.css"/>
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tscanlin/tocbot@4.10.0/dist/tocbot.css"/>
    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/css/style.min.css" />
    
    

    
      
      <script async src="https://www.googletagmanager.com/gtag/js?id=UA-149420140-1"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-149420140-1');
      </script>
    

    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fas fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="/">幸运小站</a>
  </div>
  
    
      <a class="header-right-icon open-algolia-search"
         href="#search">
    
    
      <i class="fas fa-search"></i>
    
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <i id="btn-close-sidebar" class="fas fa-times btn-close-sidebar"></i>
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="/">
          <img class="sidebar-profile-picture" src="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/icon/favicon.png" alt="作者的图片" />
        </a>
        <h4 class="sidebar-profile-name">Apylers</h4>
        
          <h5 class="sidebar-profile-bio">This is a test site.</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link" href="/">
    
      <i class="sidebar-button-icon fas fa-home"></i>
      
      <span class="sidebar-button-desc">首页</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link" href="/categories">
    
      <i class="sidebar-button-icon fas fa-bookmark"></i>
      
      <span class="sidebar-button-desc">分类</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link" href="/tags">
    
      <i class="sidebar-button-icon fas fa-tags"></i>
      
      <span class="sidebar-button-desc">标签</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link" href="/archives">
    
      <i class="sidebar-button-icon fas fa-archive"></i>
      
      <span class="sidebar-button-desc">归档</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link" href="https://github.com/apylers" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fab fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link" href="mailto://apylers@cyh.me" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fas fa-envelope"></i>
      
      <span class="sidebar-button-desc">Email</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link" href="/#about">
    
      <i class="sidebar-button-icon fas fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link" href="/index.xml">
    
      <i class="sidebar-button-icon fas fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      
  <div class="post-header-cover text-center post-header-cover--partial"
       style="background-image:url('https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/cover/transmission.jpg')"
       data-behavior="4">
    
  </div>


      <div id="main" data-behavior="4"
        class="hasCover hasCoverMetaOut">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-center">
  
    <h1 class="post-title" itemprop="headline">
      使用 transmission 搭建 BT 种子下载站
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2019-11-24T00:00:00Z">
        
  
  
  
  
    2019-11-24
  

      </time>
    
    
  
  
    <span>发布在</span>
    
      <a class="category-link" href="/categories/tutorials">tutorials</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              
              
              
              <p>在网上寻找资源的时候时不时可能遇到一些种子链接，必须通过 <a href="https://www.bittorrent.com/">BitTorrent</a> 等工具才能下载，但由于国内的 ip 地址较少，而且一般使用种子分享的资源体积都比较巨大，直接使用本地下载耗费很多无用的时间。我们如果自己搭建一个能长时间运行的服务器来代替我们下载，不仅不占用自己电脑的空间，还能 24h 不间断下载，节约了大量时间空间成本。</p>
<div class='toc'></div>
<h2 id="1-bt-种子下载原理">1 BT 种子下载原理</h2>
<p>许多资源，尤其是蓝光源盘等大型资源，一般都是通过 BT 种子的方式来下载传输，具体而言大致分为以下几点：</p>
<h3 id="11-种子文件">1.1 种子文件</h3>
<p>在这里我们假设等待分享的资源是 A 文件，将这个资源存放在服务器中并做成种子，所谓的种子，一般即指的是 torrent 文件，其中包含了</p>
<ul>
<li>全部文件及文件夹的名称。</li>
<li>全部文件分块的索引信息和 Hash 校验码。假设 A 的大小为 1GB，分块大小为 1MB，那么就会分成 1024 块；每一块都有对应的一个 Hash 校验码，以确保从服务器中下载的块与源文件 100% 相同，增强安全性。</li>
<li>Tracker 地址。Tracker 地址是实际上是一个问询服务器，当有服务器向其发出请求时，它会返回当前有哪些服务器上有所需要的文件，这样这个服务器就可以直接转而向那些服务器请求文件了。</li>
<li>其他辅助信息。比如制作种子的软件等。</li>
</ul>
<h3 id="12-下载种子">1.2 下载种子</h3>
<p>所谓的 BT 下载，实际上就是下载 torrent 文件，然后解析其中的文件内容和 Tracker 地址等，然后经由 Tracker 地址找到拥有一部分或者全部文件的服务器，再向这些服务器发起请求。这时候文件分块的好处就体现出来了。由于分块很小，我们可以从不同的服务器中下载不同的块，最后只要把他们“拼装”成一个完整的文件就可以了。因此只要能找到拥有资源的服务器，就算他们并没有一个完整的资源，只要他们缺省的块“互补”的话，我们一样能下载的了整个资源。</p>
<h3 id="13-做种">1.3 做种</h3>
<p>所谓的做种，即是他人通过自己的服务器下载资源。在下载的过程中实际上我们就已经开始给别人做种了，因为这时候我们已经下载下来的块可以供别人下载。而在下载完成后，如果设置了做种时间等，则可能还会继续提供给别人下载一段时间。这个过程实际上是非常重要的，倘若没人做种，这个种子就失效了。一般建议做种率在 1.0 以上，不过前提还是拥有足够的带宽。</p>
<h3 id="14-优势与不足">1.4 优势与不足</h3>
<p>BT 种子的优势很明显，就是分享方便，而且如果一个资源有很多服务器都有，那么下载的速度就会非常快，因为可以从各个不同的服务器上获取。而由于文件经过严格的校验，其安全性也很高。</p>
<p>与此同时也有它的不足，最致命的便是找不到有资源的服务器，那么此时网速再好也拯救不了了。这就牵扯出另外一个弱点，时效性。时间过于久远的资源，或者体积过大的资源，由于下载的人较少，做种的人更少，很容易出现下不下来的情况。</p>
<h2 id="2-搭建-bt-站">2 搭建 BT 站</h2>
<p>说完原理，现在就直奔主题，着手搭建一个 BT 站。这里选择使用 transmission 来搭建，比较方便快捷。</p>
<h3 id="21-安装-transmission">2.1 安装 transmission</h3>
<p>在 Ubuntu 系统下，可以直接通过 apt 安装的 transmission，但安装的可能不是最新版，以下通过 transmission 官方源来安装：</p>
<pre><code class="language-shell">$ add-apt-repository ppa:transmissionbt/ppa
$ apt update
$ apt install transmission
</code></pre>
<p>这时 transmission 就已经安装好了，此时<strong>先停止 transmission</strong>：</p>
<pre><code class="language-shell">$ systemctl stop transmission-daemon.service
</code></pre>
<p>再去修改配置文件，配置文件存放在 <code>/var/lib/transmission-daemon/.config/transmission-daemon/settings.json</code>，以下贴出我的配置：</p>
<pre><code class="language-json">{
    &quot;alt-speed-down&quot;: 50,
    &quot;alt-speed-enabled&quot;: false,
    &quot;alt-speed-time-begin&quot;: 540,
    &quot;alt-speed-time-day&quot;: 127,
    &quot;alt-speed-time-enabled&quot;: false,
    &quot;alt-speed-time-end&quot;: 1020,
    &quot;alt-speed-up&quot;: 50,
    &quot;bind-address-ipv4&quot;: &quot;0.0.0.0&quot;,
    &quot;bind-address-ipv6&quot;: &quot;::&quot;,
    &quot;blocklist-enabled&quot;: false,
    &quot;blocklist-url&quot;: &quot;http://www.example.com/blocklist&quot;,
    &quot;cache-size-mb&quot;: 4,
    &quot;dht-enabled&quot;: false,
    &quot;download-dir&quot;: &quot;/var/lib/transmission-daemon/Downloads&quot;,  // 此处为默认下载地址，如需修改见下方说明
    &quot;download-limit&quot;: 100,
    &quot;download-limit-enabled&quot;: 0,
    &quot;download-queue-enabled&quot;: true,
    &quot;download-queue-size&quot;: 5,
    &quot;encryption&quot;: 1,
    &quot;idle-seeding-limit&quot;: 30,
    &quot;idle-seeding-limit-enabled&quot;: false,
    &quot;incomplete-dir&quot;: &quot;/var/lib/transmission-daemon/Downloads&quot;,
    &quot;incomplete-dir-enabled&quot;: false,
    &quot;lpd-enabled&quot;: false,
    &quot;max-peers-global&quot;: 200,
    &quot;message-level&quot;: 1,
    &quot;peer-congestion-algorithm&quot;: &quot;&quot;,
    &quot;peer-id-ttl-hours&quot;: 6,
    &quot;peer-limit-global&quot;: 200,
    &quot;peer-limit-per-torrent&quot;: 50,
    &quot;peer-port&quot;: 51413,
    &quot;peer-port-random-high&quot;: 65535,
    &quot;peer-port-random-low&quot;: 49152,
    &quot;peer-port-random-on-start&quot;: false,
    &quot;peer-socket-tos&quot;: &quot;default&quot;,
    &quot;pex-enabled&quot;: true,
    &quot;port-forwarding-enabled&quot;: false,
    &quot;preallocation&quot;: 1,
    &quot;prefetch-enabled&quot;: true,
    &quot;queue-stalled-enabled&quot;: true,
    &quot;queue-stalled-minutes&quot;: 30,
    &quot;ratio-limit&quot;: 2,
    &quot;ratio-limit-enabled&quot;: false,
    &quot;rename-partial-files&quot;: true,
    &quot;rpc-authentication-required&quot;: true,
    &quot;rpc-bind-address&quot;: &quot;0.0.0.0&quot;,
    &quot;rpc-enabled&quot;: true,  // 强烈建议开启，不然任何人都可以访问
    &quot;rpc-host-whitelist&quot;: &quot;&quot;,
    &quot;rpc-host-whitelist-enabled&quot;: false,  // 关闭白名单才能随意访问
    &quot;rpc-password&quot;: &quot;password&quot;,  // 这里修改成自己的密码，保存后会自动进行加密处理
    &quot;rpc-port&quot;: 9091,  // 端口号
    &quot;rpc-url&quot;: &quot;/transmission/&quot;,
    &quot;rpc-username&quot;: &quot;username&quot;,  // 填写用户名
    &quot;rpc-whitelist&quot;: &quot;127.0.0.1&quot;,
    &quot;rpc-whitelist-enabled&quot;: false,  // 关闭白名单才能随意访问
    &quot;scrape-paused-torrents-enabled&quot;: true,
    &quot;script-torrent-done-enabled&quot;: false,
    &quot;script-torrent-done-filename&quot;: &quot;&quot;,
    &quot;seed-queue-enabled&quot;: false,
    &quot;seed-queue-size&quot;: 10,
    &quot;speed-limit-down&quot;: 100,
    &quot;speed-limit-down-enabled&quot;: false,
    &quot;speed-limit-up&quot;: 100,
    &quot;speed-limit-up-enabled&quot;: false,
    &quot;start-added-torrents&quot;: true,
    &quot;trash-original-torrent-files&quot;: false,
    &quot;umask&quot;: 18,
    &quot;upload-limit&quot;: 100,
    &quot;upload-limit-enabled&quot;: 0,
    &quot;upload-slots-per-torrent&quot;: 14,
    &quot;utp-enabled&quot;: true
}
</code></pre>
<p>重新开启 transmission：</p>
<pre><code class="language-shell">$ systemctl start transmission-daemon.service
</code></pre>
<p>然后在浏览器中进入 <code>http://{ip_address}:9091</code> 并输入密码就可以进入 transmission 的主页面了。</p>
<h3 id="22-修改默认下载地址">2.2 修改默认下载地址</h3>
<p>由于 transmission 并不是以 root 权限运行，而是以用户 debian-transmission 的身份运行的，因此在配置中修改默认下载地址之前，需要提前建立一个文件夹，并将其权限赋予 debian-transmission，以下举例说明，在 root 权限下执行：</p>
<pre><code class="language-shell">$ cd /home
// 创建新文件夹，作为下载地址
$ mkdir transmission/
// 修改拥有者
$ chown -R debian-transmission:debian-transmission transmission/
// 修改权限
$ chmod -R 755 transmission/
</code></pre>
<h3 id="23-使用-nginx-反向代理">2.3 使用 Nginx 反向代理</h3>
<p>每次输入 <code>http://ip_address:9091</code> 确实比较麻烦，这里通过 Nginx 反向代理实现直接通过 ip 地址或域名即可访问。倘若有域名，还可以进一步使用 HTTPS 来加强安全性。</p>
<p>安装好 Nginx 后，在文件夹 <code>/etc/nginx/conf.d/</code> 中添加一个后缀为 <code>.conf</code> 的文件作为配置文件，如 <code>example.conf</code>，配置内容如下：</p>
<pre><code class="language-nginx">server {
    server_name             _;  # 这里可以把 _ 替换成自己的域名
    listen                  80;
 
    location / {
        proxy_read_timeout 300;
        proxy_pass_header  X-Transmission-Session-Id;
        proxy_set_header   X-Forwarded-Host $host;
        proxy_set_header   X-Forwarded-Server $host;
        proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;
 
        proxy_pass         http://127.0.0.1:9091/transmission/web/;  # 此处的端口号应与 transmission 配置中的端口号相符
    }
 
    location /rpc {
        proxy_pass         http://127.0.0.1:9091/transmission/rpc;
    }
 
    location /upload {
        proxy_pass         http://127.0.0.1:9091/transmission/upload;
    }
}
</code></pre>
<p>如果使用域名，之后可以参考<a href="/2019/06/v2ray/#toc-13">这篇文章</a>配置 HTTPS。</p>
              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">标签</span><br/>
                    
  <a class="tag tag--primary tag--small" href="/tags/nginx/">Nginx</a>

  <a class="tag tag--primary tag--small" href="/tags/torrent/">Torrent</a>

  <a class="tag tag--primary tag--small" href="/tags/transmission/">Transmission</a>

  <a class="tag tag--primary tag--small" href="/tags/ubuntu/">Ubuntu</a>

  <a class="tag tag--primary tag--small" href="/tags/%E7%A7%8D%E5%AD%90/">种子</a>

                  </div>
                
              
            
            <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--disabled">
              
                  <i class="fas fa-angle-left"></i>
                  <span class="text-small icon-ml">下一篇</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2019/11/ubuntu-kms/" data-tooltip="用 Ubuntu 搭建一个 KMS 服务器">
              
                  <span class="text-small icon-mr">上一篇</span>
                  <i class="fas fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fas fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://cyh.me/2019/11/ubuntu-transmission/">
              <i class="fab fa-facebook"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?url=https://cyh.me/2019/11/ubuntu-transmission/">
              <i class="fab fa-twitter"></i>
            </a>
          </li>
        
      
      
    </ul>
  
</div>

            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2020 Apylers - All Rights Reserved.
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar bottom-down" data-behavior="4">
        <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--disabled">
              
                  <i class="fas fa-angle-left"></i>
                  <span class="text-small icon-ml">下一篇</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2019/11/ubuntu-kms/" data-tooltip="用 Ubuntu 搭建一个 KMS 服务器">
              
                  <span class="text-small icon-mr">上一篇</span>
                  <i class="fas fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fas fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://cyh.me/2019/11/ubuntu-transmission/">
              <i class="fab fa-facebook"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?url=https://cyh.me/2019/11/ubuntu-transmission/">
              <i class="fab fa-twitter"></i>
            </a>
          </li>
        
      
      
    </ul>
  
</div>

      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fas fa-times"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fcyh.me%2F2019%2F11%2Fubuntu-transmission%2F">
          <i class="fab fa-facebook"></i><span>分享到 Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fcyh.me%2F2019%2F11%2Fubuntu-transmission%2F">
          <i class="fab fa-twitter"></i><span>分享到 Twitter</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fas fa-times"></i>
    </div>
    
      <img id="about-card-picture" src="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/icon/favicon.png" alt="作者的图片" />
    
    <h4 id="about-card-name">Apylers</h4>
    
      <div id="about-card-bio">This is a test site.</div>
    
    
      <div id="about-card-job">
        <i class="fas fa-briefcase"></i>
        <br/>
        I&rsquo;m a student!
      </div>
    
    
      <div id="about-card-location">
        <i class="fas fa-map-marker"></i>
        <br/>
        China
      </div>
    
  </div>
</div>

    
  <div id="algolia-search-modal" class="modal-container">
    <div class="modal">
      <div class="modal-header">
        <span class="close-button"><i class="fas fa-times"></i></span>
        <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
          <span class="searchby-algolia-text text-color-light text-small">by</span>
          <img class="searchby-algolia-logo" src="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/search/Algolia.png">
        </a>
        <i class="search-icon fas fa-search"></i>
        <form id="algolia-search-form">
          <input type="text" id="algolia-search-input" name="search"
            class="form-control input--large search-input" placeholder="搜索" />
        </form>
      </div>
      <div class="modal-body">
        <div class="no-result text-color-light text-center">没有找到文章</div>
        <div class="results">
          
          
            <div class="media">
              
                <div class="media-right">
                  <a class="link-unstyled hide-xs" href="https://cyh.me/2019/11/ubuntu-transmission/">
                    <img class="media-image" src="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/cover/transmission.jpg"/>
                  </a>
                </div>
              
              <div class="media-body">
                <a class="link-unstyled" href="https://cyh.me/2019/11/ubuntu-transmission/">
                  <h3 class="media-heading">使用 transmission 搭建 BT 种子下载站</h3>
                </a>
                <span class="media-meta">
                  <span class="media-date text-small">
                    2019-11-24
                  </span>
                </span>
                <div class="media-content font-default">在网上寻找资源的时候时不时可能遇到一些种子链接，必须通过 BitTorrent 等工具才能下载，但由于国内的 ip 地址较少，而且一般使用种子分享的资源体积都比较巨大，直接使用本地下载耗费很多无用的时间。我们如果自己搭建一个能长时间运行的服务器来代替我们下载，不仅不占用自己电脑的空间，还能 24h 不间断下载，节约了大量时间空间成本。</div>
              </div>
              <div style="clear:both;"></div>
              <hr>
            </div>
          
            <div class="media">
              
                <div class="media-right">
                  <a class="link-unstyled hide-xs" href="https://cyh.me/2019/11/ubuntu-kms/">
                    <img class="media-image" src="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/cover/KMS.png"/>
                  </a>
                </div>
              
              <div class="media-body">
                <a class="link-unstyled" href="https://cyh.me/2019/11/ubuntu-kms/">
                  <h3 class="media-heading">用 Ubuntu 搭建一个 KMS 服务器</h3>
                </a>
                <span class="media-meta">
                  <span class="media-date text-small">
                    2019-11-04
                  </span>
                </span>
                <div class="media-content font-default">有时候新装的 Windows 系统会需要使用到 KMS 激活，这时打开激活界面会显示 Windows 10 已使用你组织的激活服务激活。有人可能怀疑其中的安全性，为了消除这种担心，选择自己搭建一个 KMS 服务器不失为一种好的选择。废话不多说，以下开始！</div>
              </div>
              <div style="clear:both;"></div>
              <hr>
            </div>
          
            <div class="media">
              
                <div class="media-right">
                  <a class="link-unstyled hide-xs" href="https://cyh.me/2019/11/ubuntu-add-startup/">
                    <img class="media-image" src="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/cover/startup-script.png"/>
                  </a>
                </div>
              
              <div class="media-body">
                <a class="link-unstyled" href="https://cyh.me/2019/11/ubuntu-add-startup/">
                  <h3 class="media-heading">在 Ubuntu 中添加开机启动项的简易方式</h3>
                </a>
                <span class="media-meta">
                  <span class="media-date text-small">
                    2019-11-03
                  </span>
                </span>
                <div class="media-content font-default">在使用服务器时，多次遇到需要添加开机启动项的情况，上网查了很多教程，基本上都是通过修改 rc.local 的方式来达成目的，但不知为何，有时按教程操作却不起作用。在这里介绍一种 100% 能成功的操作方式 —— 通过 crontab 实现！</div>
              </div>
              <div style="clear:both;"></div>
              <hr>
            </div>
          
            <div class="media">
              
                <div class="media-right">
                  <a class="link-unstyled hide-xs" href="https://cyh.me/2019/10/nginx-upgrade/">
                    <img class="media-image" src="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/cover/Nginx.png"/>
                  </a>
                </div>
              
              <div class="media-body">
                <a class="link-unstyled" href="https://cyh.me/2019/10/nginx-upgrade/">
                  <h3 class="media-heading">Nginx 升级到最新 Stable 版本</h3>
                </a>
                <span class="media-meta">
                  <span class="media-date text-small">
                    2019-10-13
                  </span>
                </span>
                <div class="media-content font-default">Ubuntu 中直接安装的 Nginx 并非最新的 Stable 版本，在这里本教程参考 Nginx 官方教程 给出的方法，教大家如何升级。</div>
              </div>
              <div style="clear:both;"></div>
              <hr>
            </div>
          
            <div class="media">
              
                <div class="media-right">
                  <a class="link-unstyled hide-xs" href="https://cyh.me/2019/10/ubuntu-change-ssh-port/">
                    <img class="media-image" src="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/cover/SSH.png"/>
                  </a>
                </div>
              
              <div class="media-body">
                <a class="link-unstyled" href="https://cyh.me/2019/10/ubuntu-change-ssh-port/">
                  <h3 class="media-heading">Ubuntu 修改 SSH 端口</h3>
                </a>
                <span class="media-meta">
                  <span class="media-date text-small">
                    2019-10-13
                  </span>
                </span>
                <div class="media-content font-default">Ubuntu 服务器 SSH 默认端口是 22，在公网下容易受到攻击，在这种情况更换 SSH 端口便是十分重要的，而更换方式也是十分简单。</div>
              </div>
              <div style="clear:both;"></div>
              <hr>
            </div>
          
            <div class="media">
              
                <div class="media-right">
                  <a class="link-unstyled hide-xs" href="https://cyh.me/2019/10/ubuntu-auto-completion/">
                    <img class="media-image" src="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/cover/command-line.jpg"/>
                  </a>
                </div>
              
              <div class="media-body">
                <a class="link-unstyled" href="https://cyh.me/2019/10/ubuntu-auto-completion/">
                  <h3 class="media-heading">Ubuntu 开启输入自动补全功能</h3>
                </a>
                <span class="media-meta">
                  <span class="media-date text-small">
                    2019-10-13
                  </span>
                </span>
                <div class="media-content font-default">有时候不知什么原因，自己的 Ubuntu 系统或者刚重装的 VPS 没有开启自动补全， 在命令行下的输入效率便降低了很多很多，这里就告诉大家如何开启。</div>
              </div>
              <div style="clear:both;"></div>
              <hr>
            </div>
          
            <div class="media">
              
                <div class="media-right">
                  <a class="link-unstyled hide-xs" href="https://cyh.me/2019/10/google-bbr/">
                    <img class="media-image" src="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/cover/Google-BBR.png"/>
                  </a>
                </div>
              
              <div class="media-body">
                <a class="link-unstyled" href="https://cyh.me/2019/10/google-bbr/">
                  <h3 class="media-heading">Ubuntu 快速开启 Google BBR 方法</h3>
                </a>
                <span class="media-meta">
                  <span class="media-date text-small">
                    2019-10-13
                  </span>
                </span>
                <div class="media-content font-default">Google BBR 是 Google 开源的拥塞控制算法， 开启 BBR 加速的 VPS，网速甚至有可能提升好几个数量级。</div>
              </div>
              <div style="clear:both;"></div>
              <hr>
            </div>
          
            <div class="media">
              
                <div class="media-right">
                  <a class="link-unstyled hide-xs" href="https://cyh.me/2019/10/pip-upgrade-all/">
                    <img class="media-image" src="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/cover/pip-Linux.jpg"/>
                  </a>
                </div>
              
              <div class="media-body">
                <a class="link-unstyled" href="https://cyh.me/2019/10/pip-upgrade-all/">
                  <h3 class="media-heading">一条命令解决 pip 批量更新问题</h3>
                </a>
                <span class="media-meta">
                  <span class="media-date text-small">
                    2019-10-01
                  </span>
                </span>
                <div class="media-content font-default">在用 pip 管理包时尤其头疼的便是看到有大量更新的时候无法一键升级，这里给出用一条命令解决的方式！</div>
              </div>
              <div style="clear:both;"></div>
              <hr>
            </div>
          
            <div class="media">
              
                <div class="media-right">
                  <a class="link-unstyled hide-xs" href="https://cyh.me/2019/07/windows-activate/">
                    <img class="media-image" src="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/cover/Windows-activation.jpg"/>
                  </a>
                </div>
              
              <div class="media-body">
                <a class="link-unstyled" href="https://cyh.me/2019/07/windows-activate/">
                  <h3 class="media-heading">激活 Windows 10</h3>
                </a>
                <span class="media-meta">
                  <span class="media-date text-small">
                    2019-07-28
                  </span>
                </span>
                <div class="media-content font-default">经常遇到重装 Windows 后发现自己的系统并未激活，这里提供一个简单有效的方式给大家。</div>
              </div>
              <div style="clear:both;"></div>
              <hr>
            </div>
          
            <div class="media">
              
                <div class="media-right">
                  <a class="link-unstyled hide-xs" href="https://cyh.me/2019/06/v2ray/">
                    <img class="media-image" src="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/cover/V2Ray.png"/>
                  </a>
                </div>
              
              <div class="media-body">
                <a class="link-unstyled" href="https://cyh.me/2019/06/v2ray/">
                  <h3 class="media-heading">V2Ray 搭建教程</h3>
                </a>
                <span class="media-meta">
                  <span class="media-date text-small">
                    2019-06-30
                  </span>
                </span>
                <div class="media-content font-default">自从今年 6 月 1 日开始的大规模封禁，我的 Shadowsocks 也受到了严重的影响，为了解决这一问题，我开始着手寻找一个更安全更稳定的翻墙方式，这便是 V2Ray。经历多次安装失败后，这里总结出一套完整的、不易出错的教程，内容基于 V2Ray 官方网站以及白话文教程。</div>
              </div>
              <div style="clear:both;"></div>
              <hr>
            </div>
          
            <div class="media">
              
                <div class="media-right">
                  <a class="link-unstyled hide-xs" href="https://cyh.me/2019/05/wordpress-forget-password/">
                    <img class="media-image" src="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/cover/password.gif"/>
                  </a>
                </div>
              
              <div class="media-body">
                <a class="link-unstyled" href="https://cyh.me/2019/05/wordpress-forget-password/">
                  <h3 class="media-heading">忘记 WordPress 密码怎么办？</h3>
                </a>
                <span class="media-meta">
                  <span class="media-date text-small">
                    2019-05-02
                  </span>
                </span>
                <div class="media-content font-default">作为管理员，如果不小心忘记了自己的密码那将是十分尴尬的一件事，好在一般情况下通过找回密码即可解决，然而如果不巧，网站发不了邮件，那该怎么处理呢？</div>
              </div>
              <div style="clear:both;"></div>
              <hr>
            </div>
          
            <div class="media">
              
                <div class="media-right">
                  <a class="link-unstyled hide-xs" href="https://cyh.me/2019/05/wordpress-email/">
                    <img class="media-image" src="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/cover/Email.jpg"/>
                  </a>
                </div>
              
              <div class="media-body">
                <a class="link-unstyled" href="https://cyh.me/2019/05/wordpress-email/">
                  <h3 class="media-heading">WordPress 配置发送邮件</h3>
                </a>
                <span class="media-meta">
                  <span class="media-date text-small">
                    2019-05-01
                  </span>
                </span>
                <div class="media-content font-default">很多人可能发现，自己建的 WordPress 站点无法发送邮件，导致无法注册或者无法找回密码，困惑不已。实际上出现这种状况的原因是 WordPress 默认使用的是 PHP 中的 mail 函数发送邮件，但我们并没有对其进行配置，因此不能正常发送邮件。不过解决的方法也很简单，我们使用一个插件，通过第三方邮件商发邮件即可。</div>
              </div>
              <div style="clear:both;"></div>
              <hr>
            </div>
          
            <div class="media">
              
                <div class="media-right">
                  <a class="link-unstyled hide-xs" href="https://cyh.me/2019/04/shadowsocks/">
                    <img class="media-image" src="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/cover/Shadowsocks.webp"/>
                  </a>
                </div>
              
              <div class="media-body">
                <a class="link-unstyled" href="https://cyh.me/2019/04/shadowsocks/">
                  <h3 class="media-heading">Shadowsocks 脚本一键安装并开启 BBR 加速</h3>
                </a>
                <span class="media-meta">
                  <span class="media-date text-small">
                    2019-04-15
                  </span>
                </span>
                <div class="media-content font-default">众所周知，在国内无论是想使用 Google 搜索还是上 YouTube 看视频又或者是使用 Twitter、Facebook 等社交平台简直是难上加难，在这里，仅介绍受众最为广泛的 Shadowsocks 搭建教程。</div>
              </div>
              <div style="clear:both;"></div>
              <hr>
            </div>
          
            <div class="media">
              
                <div class="media-right">
                  <a class="link-unstyled hide-xs" href="https://cyh.me/2019/04/wordpress-website/">
                    <img class="media-image" src="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/cover/WordPress.jpg"/>
                  </a>
                </div>
              
              <div class="media-body">
                <a class="link-unstyled" href="https://cyh.me/2019/04/wordpress-website/">
                  <h3 class="media-heading">WordPress 建站教程：VPS &#43; LNMP 快速建站</h3>
                </a>
                <span class="media-meta">
                  <span class="media-date text-small">
                    2019-04-07
                  </span>
                </span>
                <div class="media-content font-default">纯干货！本教程使用 VPS &#43; LNMP 教你在 1~2h 内快速搭建 WordPress 网站。</div>
              </div>
              <div style="clear:both;"></div>
              <hr>
            </div>
          
        </div>
      </div>
      <div class="modal-footer">
        <p class="results-count text-medium"
          data-message-zero="没有找到文章"
          data-message-one="找到 1 篇文章"
          data-message-other="找到 {n} 篇文章">
          共 14 篇文章
        </p>
      </div>
    </div>
  </div>


    
  
    <div id="cover" style="background-image:url('https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/background/%E6%9C%9D%E3%81%AE%E6%B5%B7%E6%B8%AF.jpg');"></div>
  


    
<script src="https://cdn.jsdelivr.net/gh/jquery/jquery@3.4.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
<script type="text/javascript" async src="https://cdn.jsdelivr.net/npm/mathjax@2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
    MathJax.Hub.Config({
        messageStyle: "none",
        tex2jax: {
            inlineMath: [["$", "$"], ["\\(", "\\)"]],
            displayMath: [["$$", "$$"], ["\[\[", "\]\]"]],
            processEscapes: true,
            processEnvironments: true,
            skipTags: ["script", "noscript", "style", "textarea", "pre"],
            TeX: {
                equationNumbers: { autoNumber: "AMS" },
                extensions: ["AMSmath.js", "AMSsymbols.js"]
            }
        }
    });

    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i = 0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += " has-jax";
        }
    });
</script>


  <script src="https://cdn.jsdelivr.net/gh/tscanlin/tocbot@4.10.0/dist/tocbot.min.js"></script>
<script>
    $(document).ready(function() {
        var id = 1;
        $(".main-content-wrap").children("h2,h3,h4,h5").each(function() {
            var hyphenated = "toc-" + id;
            $(this).attr("id", hyphenated);
            id++;
        });

        if ($("div").hasClass("toc")) {
            var $elm = $(".toc");
            var default_iniTop = 607.5;
            var iniTop = $('.post-content').children('.main-content-wrap').offset().top;
            var finTop = 70;

            var headingsOffset = -410 + default_iniTop - iniTop;

            locateToc();

            $(window).scroll(locateToc);

            function locateToc() {
                var p = $(window).scrollTop();
                if (p > iniTop - finTop) {
                    $elm.css({
                        top: finTop
                    });
                }
                else {
                    $elm.css({
                        top: iniTop - p
                    });
                }
            }
        }

        tocbot.init({
            tocSelector: ".toc",
            contentSelector: ".post-content",
            headingSelector: "h2, h3, h4, h5",
            positionFixedSelector: ".toc",
            scrollSmoothOffset: -80,
            headingsOffset: headingsOffset
        });
    });
</script>



  <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.1/build/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/highlightjs-line-numbers.js@2.7.0/dist/highlightjs-line-numbers.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>hljs.initLineNumbersOnLoad({singleLine: true});</script>
<style>
     
    td.hljs-ln-numbers {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;

        text-align: center;
        color: #ccc;
        border-right: 1px solid #CCC;
        vertical-align: top;
        padding-right: 5px;

         
    }

     
    td.hljs-ln-code {
        padding-left: 10px;
        padding-right: 10px;
    }

    table.hljs-ln tr {
        background: inherit;
    }
</style>
<script>
    $(document).ready(function() {
        hljs.configure({ classPrefix: "", useBR: false });
        $("pre.code-highlight > code, pre > code").each(function(i, block) {
            if (!$(this).hasClass("codeblock")) {
                $(this).addClass("codeblock");
            }
            hljs.highlightBlock(block);
        });
    });
</script>



<script src="https://cdn.jsdelivr.net/gh/apylers/apylers.github.io@master/js/script.min.js"></script>


<script lang="javascript">
window.onload = updateMinWidth;
window.onresize = updateMinWidth;
document.getElementById("sidebar").addEventListener("transitionend", updateMinWidth);
function updateMinWidth() {
  var sidebar = document.getElementById("sidebar");
  var main = document.getElementById("main");
  main.style.minWidth = "";
  var w1 = getComputedStyle(main).getPropertyValue("min-width");
  var w2 = getComputedStyle(sidebar).getPropertyValue("width");
  var w3 = getComputedStyle(sidebar).getPropertyValue("left");
  main.style.minWidth = `calc(${w1} - ${w2} - ${w3})`;
}
</script>


  



    <script src="https://cdn.jsdelivr.net/gh/moment/moment@2.24.0/min/moment-with-locales.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script>
    <script>
      var algoliaClient = algoliasearch('F2K8SP0PM5', '592bb860cd3e3437145dc2a761c2c5a7');
      var algoliaIndex = algoliaClient.initIndex('Hugo');
    </script>


    
  </body>
</html>

